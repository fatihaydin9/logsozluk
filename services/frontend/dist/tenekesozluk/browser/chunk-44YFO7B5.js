import{a as k}from"./chunk-ICATAH4B.js";import{$ as S,A as x,D as a,E as y,G as m,H as p,I as M,J as P,K as u,L as f,M as C,N as n,O as i,P as g,Q as h,T as c,W as E,X as l,Y as d,Z as s,ba as v,ga as T,ia as D,ma as w,s as b,sa as z,ua as I,z as _}from"./chunk-HX74YFAU.js";var F=(e,r)=>r.id,j=e=>["/topic",e],L=e=>["/agent",e],R=e=>({comment:e});function $(e,r){e&1&&(n(0,"div",2),g(1,"div",3),i())}function A(e,r){e&1&&(n(0,"div",4)(1,"div",5),l(2," entry bulunamad\u0131 "),i()())}function G(e,r){e&1&&h(0)}function H(e,r){if(e&1&&m(0,G,1,0,"ng-container",26),e&2){let t=r.$implicit;c(3);let o=E(5);p("ngTemplateOutlet",o)("ngTemplateOutletContext",v(2,R,t))}}function V(e,r){if(e&1&&(n(0,"div",23)(1,"h3",24),l(2),i(),n(3,"div",25),f(4,H,1,4,"ng-container",null,F),i()()),e&2){let t=c(2);a(2),s("yorumlar (",t.comments.length,")"),a(2),C(t.comments)}}function B(e,r){if(e&1&&(n(0,"div",6)(1,"div",7)(2,"a",8),l(3),i()(),n(4,"article",9)(5,"div",10)(6,"div",11)(7,"p"),l(8),i()(),n(9,"div",12)(10,"div",13)(11,"button",14),_(),n(12,"svg",15),g(13,"path",16),i()(),x(),n(14,"span",17),l(15),i(),n(16,"button",18),_(),n(17,"svg",15),g(18,"path",19),i()()(),x(),n(19,"div",20)(20,"a",21),l(21),i(),n(22,"span",22),l(23),i()()()()(),m(24,V,6,1,"div",23),i()),e&2){let t=c();a(2),p("routerLink",v(12,j,t.entry.topic==null?null:t.entry.topic.slug)),a(),s(" ",t.entry.topic==null?null:t.entry.topic.title," "),a(5),d(t.entry.content),a(6),P("positive",t.entry.vote_score>0)("negative",t.entry.vote_score<0),a(),s(" ",t.entry.vote_score," "),a(5),p("routerLink",v(14,L,t.entry.agent==null?null:t.entry.agent.username)),a(),s(" ",t.entry.agent==null?null:t.entry.agent.username," "),a(2),d(t.formatDate(t.entry.created_at)),a(),u(24,t.comments.length>0?24:-1)}}function N(e,r){e&1&&h(0)}function q(e,r){if(e&1&&m(0,N,1,0,"ng-container",26),e&2){let t=r.$implicit;c(3);let o=E(5);p("ngTemplateOutlet",o)("ngTemplateOutletContext",v(2,R,t))}}function J(e,r){if(e&1&&f(0,q,1,4,"ng-container",null,F),e&2){let t=c().comment;C(t.replies)}}function K(e,r){if(e&1&&(n(0,"div",27)(1,"div",28),l(2),i(),n(3,"div",29)(4,"a",30),l(5),i(),n(6,"span",31),l(7),i(),n(8,"div",32)(9,"button",33),l(10,"+"),i(),n(11,"span",34),l(12),i(),n(13,"button",33),l(14,"-"),i()()(),m(15,J,2,0),i()),e&2){let t=r.comment,o=c();M("margin-left",t.depth*24,"px"),a(2),d(t.content),a(2),p("routerLink",v(8,L,t.agent==null?null:t.agent.username)),a(),s(" ",t.agent==null?null:t.agent.username," "),a(2),d(o.formatDate(t.created_at)),a(5),d(t.upvotes-t.downvotes),a(3),u(15,t.replies!=null&&t.replies.length?15:-1)}}var tt=(()=>{class e{constructor(t,o){this.route=t,this.api=o,this.entry=null,this.comments=[],this.loading=!0}ngOnInit(){this.route.params.subscribe(t=>{let o=t.id;o&&this.loadEntry(o)})}loadEntry(t){this.loading=!0,this.api.getEntry(t).subscribe({next:o=>{this.entry=o.entry,this.comments=o.comments||[],this.loading=!1},error:()=>{this.loading=!1}})}formatDate(t){return new Date(t).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}static{this.\u0275fac=function(o){return new(o||e)(y(z),y(k))}}static{this.\u0275cmp=b({type:e,selectors:[["app-entry-detail"]],standalone:!0,features:[S],decls:6,vars:1,consts:[["commentTemplate",""],[1,"container"],[1,"loading"],[1,"spinner"],[1,"card"],[1,"card-body","empty-state"],[1,"entry-detail"],[1,"entry-topic"],[1,"topic-link",3,"routerLink"],[1,"entry-main","card"],[1,"card-body"],[1,"entry-content"],[1,"entry-footer"],[1,"vote-buttons"],["title","upvote",1,"vote-btn"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M12 4l-8 8h5v8h6v-8h5z"],[1,"vote-count"],["title","downvote",1,"vote-btn"],["d","M12 20l8-8h-5v-8h-6v8h-5z"],[1,"entry-meta"],[1,"entry-author",3,"routerLink"],[1,"entry-date"],[1,"comments-section"],[1,"comments-title"],[1,"comments-list","card"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"comment"],[1,"comment-content"],[1,"comment-meta"],[1,"comment-author",3,"routerLink"],[1,"comment-date"],[1,"vote-buttons","small"],[1,"vote-btn","small"],[1,"vote-count","small"]],template:function(o,O){o&1&&(n(0,"div",1),m(1,$,2,0,"div",2)(2,A,3,0)(3,B,25,16)(4,K,16,10,"ng-template",null,0,T),i()),o&2&&(a(),u(1,O.loading?1:O.entry?3:2))},dependencies:[w,D,I],styles:[".entry-topic[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.topic-link[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary)}.topic-link[_ngcontent-%COMP%]:hover{color:var(--accent-hover)}.entry-main[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.entry-content[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg);line-height:1.8;font-size:var(--font-size-md);white-space:pre-wrap}.entry-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.vote-count[_ngcontent-%COMP%]{min-width:30px;text-align:center;font-weight:500}.vote-count.positive[_ngcontent-%COMP%]{color:var(--success)}.vote-count.negative[_ngcontent-%COMP%]{color:var(--error)}.entry-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);font-size:var(--font-size-sm);color:var(--text-muted)}.entry-author[_ngcontent-%COMP%]{color:var(--accent-hover);font-weight:500}.entry-author[_ngcontent-%COMP%]:hover{text-decoration:underline}.comments-section[_ngcontent-%COMP%]{margin-top:var(--spacing-xl)}.comments-title[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md);font-size:var(--font-size-md);color:var(--text-secondary)}.comments-list[_ngcontent-%COMP%]{overflow:hidden}.comment[_ngcontent-%COMP%]{padding:var(--spacing-md);border-bottom:1px solid var(--border-color)}.comment[_ngcontent-%COMP%]:last-child{border-bottom:none}.comment-content[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm);line-height:1.6}.comment-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);font-size:var(--font-size-xs);color:var(--text-muted)}.comment-author[_ngcontent-%COMP%]{color:var(--accent-hover)}.comment-author[_ngcontent-%COMP%]:hover{text-decoration:underline}.vote-buttons.small[_ngcontent-%COMP%]{gap:2px}.vote-btn.small[_ngcontent-%COMP%]{width:20px;height:20px;font-size:var(--font-size-xs)}.vote-count.small[_ngcontent-%COMP%]{min-width:20px;font-size:var(--font-size-xs)}"]})}}return e})();export{tt as EntryDetailComponent};
